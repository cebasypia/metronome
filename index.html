<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>Metronome</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="manifest" href="manifest.json" />
    <!-- <link rel="stylesheet" href="./styles/Skeleton-2.0.4/css/skeleton.css" /> -->
    <link rel="stylesheet" href="./styles/metronome.css" />
    <link rel="stylesheet" href="./styles/main.css" />
    <link rel="stylesheet" href="./styles/button.css" />
    <link rel="stylesheet" href="./styles/form.css" />
    <link href="https://fonts.googleapis.com/css?family=Caveat" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300&display=swap"
      rel="stylesheet"
    />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <script src="./dist/pwacompat.min.js"></script>
  </head>

  <body>
    <div class="container" id="main">
      <header class="container">
        <div class="child--centered first-column">
          <button type="button" class="child--centered" id="menu">
            <i class=" material-icons">
              menu
            </i>
          </button>
        </div>
        <div class="child--centered third-column">
          <select class="child--centered" id="music"></select>
        </div>
      </header>

      <!-- CANVAS -->
      <div class="child--centered" id="canvases">
        <canvas class="canvas" id="base"></canvas>
        <canvas class="canvas" id="animation"></canvas>
        <div id="tempo"></div>
      </div>

      <!-- TEMPO -->
      <div class="container" id="tempo--control">
        <div class="child--centered first-column">
          <button type="button" class="circle--button button-primary" id="tempo--down">
            -
          </button>
        </div>
        <div class="child--centered second-column">
          <input type="range" class="ten columns input-range" id="tempo--range" />
        </div>
        <div class="child--centered third-column">
          <button type="button" class="circle--button button-primary" id="tempo--up">
            +
          </button>
        </div>
      </div>

      <!-- BAR -->
      <div class="container child--centered" id="bar--control" style="visibility: hidden;">
        <div class="first-column child--centered">
          <button type="button" class="circle--button button-primary" id="bar--down">-</button>
        </div>
        <div class="second-column" id="mark">1</div>
        <div class="third-column" id="bar">1</div>
        <div class="fourth-column" id="count">1</div>
        <div class="fifth-column child--centered">
          <button type="button" class="circle--button button-primary" id="bar--plus">+</button>
        </div>
      </div>

      <!-- BEATS, nBEAT, SETTING -->
      <div class="container" id="settings--row">
        <div class="child--centered first-column" id="beats">
          <img src="./images/4_4.png" alt="拍子" />
        </div>
        <div class="child--centered second-column">♪</div>
        <div class="child--centered third-column"></div>
        <div class="child--centered fourth-column">
          <i class="material-icons">
            build
          </i>
        </div>
      </div>

      <!-- PLAY -->
      <div class="child--centered" id="play--cell">
        <button type="button" class="button-primary" id="play">
          <i class="material-icons">
            play_arrow
          </i>
        </button>
      </div>

      <!-- FILE -->
      <div class="row child--centered display--none">
        <label for="rhythm--file" class="two columns child--centered button">
          <i class=" material-icons">
            folder_open
          </i>
        </label>
        <input type="file" id="rhythm--file" />
      </div>

      <!-- TABLE -->
      <div class="row child--centered display--none">
        <button type="button" class="" id="table--button">table</button>
      </div>
    </div>

    <!-- BEATS SELECT WINDOW -->
    <div class="container sub--window" id="beats--window">
      <div id="beats--select"></div>
    </div>

    <!-- EDITING TABLE WINDOW -->
    <div class="container sub--window table-wrap" id="table--window">
      <table class="js-table" id="rhythm--editing--table">
        <thead>
          <th>小節番号</th>
          <th>拍子</th>
          <th>テンポ</th>
          <th>ジャンプ</th>
        </thead>
      </table>
    </div>

    <script>
      // service workerの登録関係
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker
          .register('./scripts/service_worker.js')
          .then(function(registration) {
            console.log('ServiceWorker registration successful with scope: ', registration.scope)
          })
          .catch(function(err) {
            console.log('ServiceWorker registration failed: ', err)
          })
      }
    </script>

    <script type="module" src="./scripts/main.js"></script>
    <script src="./scripts/table.js"></script>
  </body>
</html>
